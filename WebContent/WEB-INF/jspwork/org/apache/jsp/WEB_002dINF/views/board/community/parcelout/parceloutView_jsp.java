/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/8.5.42
 * Generated at: 2019-08-18 17:23:21 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.WEB_002dINF.views.board.community.parcelout;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import com.pinkpaw.board.common.model.vo.BoardComment;
import java.util.List;
import com.pinkpaw.board.parceloutboard.model.vo.ParceloutBoard;
import com.pinkpaw.member.model.vo.Member;

public final class parceloutView_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  static {
    _jspx_dependants = new java.util.HashMap<java.lang.String,java.lang.Long>(2);
    _jspx_dependants.put("/WEB-INF/views/common/header.jsp", Long.valueOf(1566139411090L));
    _jspx_dependants.put("/WEB-INF/views/common/footer.jsp", Long.valueOf(1566146376608L));
  }

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.HashSet<>();
    _jspx_imports_packages.add("javax.servlet");
    _jspx_imports_packages.add("javax.servlet.http");
    _jspx_imports_packages.add("javax.servlet.jsp");
    _jspx_imports_classes = new java.util.HashSet<>();
    _jspx_imports_classes.add("java.util.List");
    _jspx_imports_classes.add("com.pinkpaw.board.common.model.vo.BoardComment");
    _jspx_imports_classes.add("com.pinkpaw.member.model.vo.Member");
    _jspx_imports_classes.add("com.pinkpaw.board.parceloutboard.model.vo.ParceloutBoard");
  }

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
      throws java.io.IOException, javax.servlet.ServletException {

    final java.lang.String _jspx_method = request.getMethod();
    if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method) && !javax.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSPs only permit GET POST or HEAD");
      return;
    }

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
 
//로그인성공후 session객체에 저장된 memberLoggedIn가져오기
Member memberLoggedIn
	= (Member)session.getAttribute("memberLoggedIn");
System.out.println("memberLoggedIn@index.jsp="+memberLoggedIn);
/* memberLoggedIn = new Member();
memberLoggedIn.setMemberId("admin");
System.out.println("memberLoggedIn@index.jsp="+memberLoggedIn); */

//쿠키관련 처리
Cookie[] cookies = request.getCookies();
boolean saveId = false;
String memberId = "";

if(cookies != null){
	System.out.println("-------------------------");
	for(Cookie c: cookies){
		String key = c.getName();
		String value = c.getValue();
		System.out.println(key+" : "+value);
		
		//전송된 saveId쿠키가 있는 경우
		if("saveId".equals(key)){
			saveId = true;
			memberId = value;
		}
	}
	System.out.println("-------------------------");
}


int recvCount = 0;
if(session.getAttribute("recvCount")!=null){
		recvCount = (int)session.getAttribute("recvCount");
}
System.out.println("recvCount@header="+recvCount);

	

      out.write("  \r\n");
      out.write("<!DOCTYPE html>\r\n");
      out.write("<html>\r\n");
      out.write("<head>\r\n");
      out.write("<meta charset=\"UTF-8\">\r\n");
      out.write("<title>PinkPaw</title>\r\n");
      out.write("<!-- bootstrap -->\r\n");
      out.write("<link rel=\"stylesheet\"\r\n");
      out.write("\thref=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"\r\n");
      out.write("\tintegrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\"\r\n");
      out.write("\tcrossorigin=\"anonymous\">\r\n");
      out.write("<script\r\n");
      out.write("\tsrc=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js\"\r\n");
      out.write("\tintegrity=\"sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM\"\r\n");
      out.write("\tcrossorigin=\"anonymous\"></script>\r\n");
      out.write("\r\n");
      out.write("<!--<link rel=\"shortcut icon\" href=\"images/favicon.ico\" type=\"image/x-icon\">\r\n");
      out.write("<link rel=\"icon\" href=\"images/favicon.ico\" type=\"image/x-icon\">-->\r\n");
      out.write("<meta name=\"viewport\"\r\n");
      out.write("\tcontent=\"width=device-width,user-scalable=no,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,target-densitydpi=medium-dpi\">\r\n");
      out.write("<link href=\"");
      out.print(request.getContextPath());
      out.write("/css/reset.css\"\r\n");
      out.write("\trel=\"stylesheet\" />\r\n");
      out.write("<link href=\"");
      out.print(request.getContextPath());
      out.write("/css/main.css\" rel=\"stylesheet\" />\r\n");
      out.write("<link href=\"");
      out.print(request.getContextPath());
      out.write("/css/Font.css\" rel=\"stylesheet\" />\r\n");
      out.write("<link href=\"");
      out.print(request.getContextPath());
      out.write("/css/Swiper.css\"\r\n");
      out.write("\trel=\"stylesheet\" />\r\n");
      out.write("\r\n");
      out.write("<script src=\"");
      out.print(request.getContextPath());
      out.write("/js/jquery-3.4.1.js\"></script>\r\n");
      out.write("<script\r\n");
      out.write("\tsrc=\"");
      out.print(request.getContextPath());
      out.write("/js/jquery-migrate-3.0.0.min.js\"></script>\r\n");
      out.write("<script src=\"");
      out.print(request.getContextPath());
      out.write("/js/jquery-ui.min.js\"></script>\r\n");
      out.write("<script src=\"");
      out.print(request.getContextPath());
      out.write("/js/swiper.min.js\"></script>\r\n");
      out.write("<script src=\"");
      out.print(request.getContextPath());
      out.write("/js/jquery.mousewheel.min.js\"></script>\r\n");
      out.write("<link\r\n");
      out.write("\thref=\"https://fonts.googleapis.com/css?family=Noto+Sans|Noto+Sans+KR:100,300,400,500,700,900\"\r\n");
      out.write("\trel=\"stylesheet\" />\r\n");
      out.write("\r\n");
      out.write("<script>\r\n");
      out.write("\r\n");
      out.write("function register(){\r\n");
      out.write("\tlocation.href=\"");
      out.print(request.getContextPath());
      out.write("/member/termsOfService\";\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("</script>\t\r\n");
      out.write("\r\n");
      out.write("<script>\r\n");
      out.write("function validate(){\r\n");
      out.write("\tif($(\"#memberId\").val().trim().length == 0){\r\n");
      out.write("\t\talert(\"아이디를 입력하세요.\");\r\n");
      out.write("\t\t$(\"#memberId\").focus();\r\n");
      out.write("\t\treturn false;\r\n");
      out.write("\t}\r\n");
      out.write("\tif($(\"#password\").val().trim().length == 0){\r\n");
      out.write("\t\talert(\"비밀번호를 입력하세요.\");\r\n");
      out.write("\t\t$(\"#password\").focus();\r\n");
      out.write("\t\treturn false;\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("\t\r\n");
      out.write("\treturn true;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("$(()=>{\r\n");
      out.write("\tvar host = location.host;\r\n");
      out.write("\tvar ws = new WebSocket('ws://'+host+\"");
      out.print(request.getContextPath());
      out.write("/chat/helloWebSocket\");\r\n");
      out.write("\t\r\n");
      out.write("\t//최초연결시 open이벤트 핸들러\r\n");
      out.write("\tws.onopen = e => {\r\n");
      out.write("\t\tconsole.log(\"ws open!\");\r\n");
      out.write("\t};\r\n");
      out.write("\t//서버로부터 message를 전달 받았을 때 핸들러\r\n");
      out.write("\tws.onmessage = e => {\r\n");
      out.write("\t\t//console.log(\"ws message: \"+e.data);\r\n");
      out.write("\t\tvar o = JSON.parse(e.data);\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t//타입 메세지 처리\r\n");
      out.write("\t\tif(o.type === 'message'){\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\tvar html = \"<li class='list-group-item'>\";\r\n");
      out.write("\t\t\thtml += \"<span class='badge badge-dark'>\"+o.sender+\"</span>\";\r\n");
      out.write("\t\t\thtml += \"&nbsp;&nbsp;\"+o.msg;\r\n");
      out.write("\t\t\thtml += \"</li>\";\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t$(\"#msg-container ul\").append(html);\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t//scroll처리\r\n");
      out.write("\t\t\tvar scrollHeight = $(\"#msg-container\").prop(\"scrollHeight\");\r\n");
      out.write("\t\t\t//console.log(scrollHeight);\r\n");
      out.write("\t\t\t$(\"#msg-container\").scrollTop(scrollHeight);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\telse if(o.type === \"dm\"){\r\n");
      out.write("\t\t\talert(\"쪽지가 도착했습니다\");\r\n");
      out.write("\t\t}\r\n");
      out.write("\t};\r\n");
      out.write("\t//서버처리 도중 error발생시 핸들러\r\n");
      out.write("\tws.onerror = e =>{\r\n");
      out.write("\t\tconsole.log(\"ws error!\");\t\t\r\n");
      out.write("\t};\r\n");
      out.write("\t//서버와 연결 종료시 핸들러\r\n");
      out.write("\tws.onclose = e =>{\r\n");
      out.write("\t\tconsole.log(\"ws close!\");\t\t\t\r\n");
      out.write("\t};\r\n");
      out.write("\t\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("</script>\r\n");
      out.write("\t\r\n");
      out.write("</head>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<body>\r\n");
      out.write("\r\n");
      out.write("\t<!--header-->\r\n");
      out.write("\t<div class=\"headerWrap\">\r\n");
      out.write("\t<header>\r\n");
      out.write("\t\t<h1  style=\"width: 800px; margin-left: -20px;\">\r\n");
      out.write("\t\t\t<a href=\"");
      out.print(request.getContextPath());
      out.write("\"><img src=\"");
      out.print(request.getContextPath());
      out.write("/images/main/logo_white.png\" alt=\"logo\" style=\"margin-top: -9px;\"></a>\r\n");
      out.write("\t\t</h1>\r\n");
      out.write("\r\n");
      out.write("\t\t<script>\r\n");
      out.write("\t\t$(function(){\r\n");
      out.write("​\r\n");
      out.write("\t\t\t$('.headerWrap').mouseover(function(e){\r\n");
      out.write("\t\t\t\t$(this).css('background','rgba(34,34,34,0.7)');\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t\t$('.headerWrap').mouseout(function(e){\r\n");
      out.write("\t\t\t\t$(this).css('background','none');}\r\n");
      out.write("\t\t\t);\r\n");
      out.write("​\r\n");
      out.write("\t\t\t$('header>div>ul:first-child>li').mouseover(function(e){\r\n");
      out.write("\t\t\t\t$('.headerWrap').css('height','140px');\r\n");
      out.write("\t\t\t\t});\r\n");
      out.write("\t\t\t$('header>div>ul:first-child>li').mouseout(function(e){\r\n");
      out.write("\t\t\t\t$('.headerWrap').css('height','84px');\r\n");
      out.write("\t\t\t\t});\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t</script>\r\n");
      out.write("\t\t<div>\r\n");
      out.write("\t\t\t​ <a href=\"#none\" onClick=\"$('.menuWrap').fadeIn(300);\"><img\r\n");
      out.write("\t\t\t\tsrc=\"");
      out.print(request.getContextPath());
      out.write("/images/main/icon_meun.png\" alt=\"메뉴바\"></a>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t</header>\r\n");
      out.write("\t​ ​\r\n");
      out.write("\t<!--menu-->\r\n");
      out.write("\t<div class=\"menuWrap\">\r\n");
      out.write("\t\t<div class=\"menu\">\r\n");
      out.write("\t\t\t<a href=\"#none\" onClick=\"$('.menuWrap').fadeOut(300);\"\r\n");
      out.write("\t\t\t\tclass=\"menu_closeBtn\"><img src=\"images/main/modal_close.gif\"\r\n");
      out.write("\t\t\t\talt=\"닫기\"></a>\r\n");
      out.write("\t\t\t<dl>\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t");
 if(memberLoggedIn == null){ 
      out.write("\r\n");
      out.write("\t\t\t\t<form action=\"");
      out.print(request.getContextPath() );
      out.write("/member/login\" \r\n");
      out.write("\t\t\t\t\t  id=\"loginFrm\"\r\n");
      out.write("\t\t\t\t\t  method=\"post\"\r\n");
      out.write("\t\t\t\t\t  onsubmit=\"return validate();\">\r\n");
      out.write("\t\t\t\t\t<table>\r\n");
      out.write("\t\t\t\t\t\t<tr>\r\n");
      out.write("\t\t\t\t\t\t\t<td>\r\n");
      out.write("\t\t\t\t\t\t\t\t<input type=\"text\" \r\n");
      out.write("\t\t\t\t\t\t\t\t\t   name=\"memberId\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t   id=\"memberId\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t   placeholder=\"아이디\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t   tabindex=\"1\" \r\n");
      out.write("\t\t\t\t\t\t\t\t\t   value=\"");
      out.print(saveId?memberId:"");
      out.write("\"/>\r\n");
      out.write("\t\t\t\t\t\t\t</td>\r\n");
      out.write("\t\t\t\t\t\t\t<td>\r\n");
      out.write("\t\t\t\t\t\t\t\t<input type=\"submit\" value=\"로그인\" class=\"btn btn-primary\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t   tabindex=\"3\" />\r\n");
      out.write("\t\t\t\t\t\t\t</td>\r\n");
      out.write("\t\t\t\t\t\t</tr>\r\n");
      out.write("\t\t\t\t\t\t<tr>\r\n");
      out.write("\t\t\t\t\t\t\t<td>\r\n");
      out.write("\t\t\t\t\t\t\t\t<input type=\"password\" \r\n");
      out.write("\t\t\t\t\t\t\t\t\t   name=\"password\" \r\n");
      out.write("\t\t\t\t\t\t\t\t\t   id=\"password\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t   placeholder=\"비밀번호\" \r\n");
      out.write("\t\t\t\t\t\t\t\t\t   tabindex=\"2\"/>\r\n");
      out.write("\t\t\t\t\t\t\t</td>\r\n");
      out.write("\t\t\t\t\t\t\t<td></td>\r\n");
      out.write("\t\t\t\t\t\t</tr>\r\n");
      out.write("\t\t\t\t\t\t<tr>\r\n");
      out.write("\t\t\t\t\t\t\t<td colspan=\"2\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<input type=\"checkbox\" \r\n");
      out.write("\t\t\t\t\t\t\t\t\t   name=\"saveId\" \r\n");
      out.write("\t\t\t\t\t\t\t\t\t   id=\"saveId\" \r\n");
      out.write("\t\t\t\t\t\t\t\t\t   ");
      out.print(saveId?"checked":"");
      out.write("/>\r\n");
      out.write("\t\t\t\t\t\t\t\t<label for=\"saveId\">아이디저장</label>\r\n");
      out.write("\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\t<button\r\n");
      out.write("\t\t\t\t\t\t\t\tclass=\"btn btn-primary\" \r\n");
      out.write("\t\t\t\t\t\t\t\tvalue=\"회원가입\"\r\n");
      out.write("\t\t\t\t\t\t\t\tonclick=\"register();\" >회원가입</button>\r\n");
      out.write("\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t</td>\r\n");
      out.write("\t\t\t\t\t\t</tr>\r\n");
      out.write("\t\t\t\t\t</table>\r\n");
      out.write("\t\t\t\t</form>\t\r\n");
      out.write("\t\t\t");
 } 
			//로그인에 성공한 경우
			else {
      out.write("\t\r\n");
      out.write("\t\t\t\t<table id=\"logged-in\">\r\n");
      out.write("\t\t\t\t\t<tr>\r\n");
      out.write("\t\t\t\t\t\t<td>\r\n");
      out.write("\t\t\t\t\t\t\t");
      out.print(memberLoggedIn.getMemberName() );
      out.write("님, 안녕하세요.\r\n");
      out.write("\t\t\t\t\t\t</td>\r\n");
      out.write("\t\t\t\t\t</tr>\r\n");
      out.write("\t\t\t\t\t<tr>\r\n");
      out.write("\t\t\t\t\t\t<td>\r\n");
      out.write("\t\t\t\t\t\t\t<input type=\"button\" \r\n");
      out.write("\t\t\t\t\t\t\t\t   value=\"쪽지 ");
      out.print(recvCount );
      out.write("개\" \r\n");
      out.write("\t\t\t\t\t\t\t\t   onclick=\"location.href='");
      out.print(request.getContextPath());
      out.write("/board/dm/dmList?memberId=");
      out.print(memberLoggedIn.getMemberId());
      out.write("'\"/>\r\n");
      out.write("\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t");
if(memberLoggedIn != null && "admin".equals(memberLoggedIn.getMemberId())){ 
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t<input type=\"button\" \r\n");
      out.write("\t\t\t\t\t\t\t\t   value=\"신고쪽지\" \r\n");
      out.write("\t\t\t\t\t\t\t\t   onclick=\"location.href='");
      out.print(request.getContextPath());
      out.write("/board/dm/reportDMList'\"/>\r\n");
      out.write("\t\t\t\t\t\t\t\t   <input type=\"button\" \r\n");
      out.write("\t\t\t\t\t\t\t\t   value=\"신고게시판\" \r\n");
      out.write("\t\t\t\t\t\t\t\t   onclick=\"location.href='");
      out.print(request.getContextPath());
      out.write("/admin/reportBoardList'\"/>\r\n");
      out.write("\t\t\t\t\t\t\t");
} 
      out.write("\t   \r\n");
      out.write("\t\t\t\t\t\t\t\t   \t   \r\n");
      out.write("\t\t\t\t\t\t\t<input type=\"button\" \r\n");
      out.write("\t\t\t\t\t\t\t\t   value=\"마이페이지\" \r\n");
      out.write("\t\t\t\t\t\t\t\t   onclick=\"location.href='");
      out.print(request.getContextPath());
      out.write("/member/memberView?memberId=");
      out.print(memberLoggedIn.getMemberId());
      out.write("'\"/>\r\n");
      out.write("\t\t\t\t\t\t\t<input type=\"button\" \r\n");
      out.write("\t\t\t\t\t\t\t\t   value=\"내가쓴글보기\" \r\n");
      out.write("\t\t\t\t\t\t\t\t   onclick=\"location.href='");
      out.print(request.getContextPath());
      out.write("/member/myBoard'\"/>\r\n");
      out.write("\t\t\t\t\t\t\t\t   <input type=\"button\" \r\n");
      out.write("\t\t\t\t\t\t\t\t   value=\"내가쓴댓글보기\" \r\n");
      out.write("\t\t\t\t\t\t\t\t   onclick=\"location.href='");
      out.print(request.getContextPath());
      out.write("/member/myComment'\"/>\t   \r\n");
      out.write("\t\t\t\t\t\t\t<input type=\"button\" \r\n");
      out.write("\t\t\t\t\t\t\t\t   value=\"로그아웃\" \r\n");
      out.write("\t\t\t\t\t\t\t\t   onclick=\"location.href='");
      out.print(request.getContextPath());
      out.write("/member/logout'\"/>\r\n");
      out.write("\t\t\t\t\t\t</td>\r\n");
      out.write("\t\t\t\t\t</tr>\t\t\t\t\r\n");
      out.write("\t\t\t\t</table>\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t");
 } 
      out.write("\t\t\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t</dl>\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t<dl>\r\n");
      out.write("\t\t\t\t<dt>\r\n");
      out.write("\t\t\t\t\t<a href=\"");
      out.print(request.getContextPath());
      out.write("/board/notice/noticeBoardList\">공지사항</a>\r\n");
      out.write("\t\t\t\t</dt>\r\n");
      out.write("\r\n");
      out.write("\t\t\t</dl>\r\n");
      out.write("\t\t\t<dl>\r\n");
      out.write("\t\t\t\t<dt class=\"sub_menu\">유기동물</dt>\r\n");
      out.write("\t\t\t\t<dd>\r\n");
      out.write("\t\t\t\t\t<a href=\"");
      out.print(request.getContextPath() );
      out.write("/board/organic/graph/OrganicGraph\">유기동물 통계</a>\r\n");
      out.write("\t\t\t\t</dd>\r\n");
      out.write("\t\t\t\t<dd>\r\n");
      out.write("\t\t\t\t\t<a href=\"");
      out.print(request.getContextPath());
      out.write("/animal/animalNotice\">유기동물 공고</a>\r\n");
      out.write("\t\t\t\t</dd>\r\n");
      out.write("\t\t\t</dl>\r\n");
      out.write("\t\t\t<dl class=\"ddSize\">\r\n");
      out.write("\t\t\t\t<dt class=\"sub_menu\">보호소</dt>\r\n");
      out.write("\t\t\t\t<dd>\r\n");
      out.write("\t\t\t\t\t<a href=\"");
      out.print(request.getContextPath());
      out.write("/shelter/shelterList\">보호소 찾기</a>\r\n");
      out.write("\t\t\t\t</dd>\r\n");
      out.write("\t\t\t\t<dd>\r\n");
      out.write("\t\t\t\t\t<a href=\"");
      out.print(request.getContextPath());
      out.write("/board/volunteer/volunteerList\">보호소 봉사요청</a>\r\n");
      out.write("\t\t\t\t</dd>\r\n");
      out.write("\r\n");
      out.write("\t\t\t</dl>\r\n");
      out.write("\t\t\t<dl>\r\n");
      out.write("\t\t\t\t<dt class=\"sub_menu\">커뮤니티</dt>\r\n");
      out.write("\t\t\t\t<dd>\r\n");
      out.write("\t\t\t\t\t<a href=\"");
      out.print(request.getContextPath());
      out.write("/board/missingList\">실종동물</a>\r\n");
      out.write("\t\t\t\t</dd>\r\n");
      out.write("\t\t\t\t<dd>\r\n");
      out.write("\t\t\t\t\t<a href=\"");
      out.print(request.getContextPath());
      out.write("/board/parcelout/parceloutList\">분양동물</a>\r\n");
      out.write("\t\t\t\t</dd>\r\n");
      out.write("\t\t\t\t<dd>\r\n");
      out.write("\t\t\t\t\t<a href=\"");
      out.print(request.getContextPath());
      out.write("/board/review/reviewList\">후기</a>\r\n");
      out.write("\t\t\t\t</dd>\r\n");
      out.write("\t\t\t\t<dd>\r\n");
      out.write("\t\t\t\t\t<a href=\"");
      out.print(request.getContextPath());
      out.write("/board/community/free/freeList\">자유게시판</a>\r\n");
      out.write("\t\t\t\t</dd>\r\n");
      out.write("\t\t\t</dl>\r\n");
      out.write("\t\t\t<dl>\r\n");
      out.write("\t\t\t\t\t");
if(memberLoggedIn!=null && "admin".equals(memberLoggedIn.getMemberId())){ 
      out.write("\r\n");
      out.write("\t\t\t\t\t<a href=\"");
      out.print(request.getContextPath());
      out.write("/admin/memberList\">회원리스트</a>\r\n");
      out.write("\t\t\t\t\t");
} 
      out.write("\r\n");
      out.write("\t\t\t</dl>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<script>\r\n");
      out.write("\t\t$(()=>{\r\n");
      out.write("\t\t\t$(\".sub_menu\").on(\"click\", function(e){\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t$(this).parent().siblings().children(\"dd\").css('display','none');\r\n");
      out.write("\t\t\t\t$(this).siblings().css('display','inline-block');\r\n");
      out.write("\t\t    });\r\n");
      out.write("\t\t});\r\n");
      out.write("\t\t</script>​\r\n");
      out.write("\t</div>\r\n");
      out.write("\t<!--menu end-->\r\n");
      out.write("\t</div>\r\n");
      out.write("\t<!--header end-->\r\n");
      out.write("\r\n");
      out.write("<link rel=\"stylesheet\" href=\"");
      out.print(request.getContextPath());
      out.write("/css/write.css\" />\r\n");
      out.write("\r\n");

	ParceloutBoard p = (ParceloutBoard)request.getAttribute("p");
	System.out.println("p@view="+p);
	List<BoardComment> commentList = (List<BoardComment>)request.getAttribute("commentList");
	System.out.println("commentList@view="+commentList);
	
	String str = "한쌍";
	if(p.getParceloutGender().equals("m")){
		str = "수컷";
		}else if(p.getParceloutGender().equals("f")){
		str = "암컷";
		}
	
	int count = 0;
	if (p.getParceloutRenamedImg() != null) {
		String[]	imgList = p.getParceloutRenamedImg().split("§");
		count = imgList.length; 
	}
	
	
	

      out.write("\r\n");
      out.write("\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\"\r\n");
      out.write("\thref=\"");
      out.print(request.getContextPath());
      out.write("/css/slick.css\">\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\"\r\n");
      out.write("\thref=\"");
      out.print(request.getContextPath());
      out.write("/css/slick-theme.css\">\r\n");
      out.write("<script type=\"text/javascript\"\r\n");
      out.write("\tsrc=\"");
      out.print(request.getContextPath());
      out.write("/js/slick.js\"></script>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\"\r\n");
      out.write("\thref=\"");
      out.print(request.getContextPath());
      out.write("/css/view.css\">\r\n");
      out.write("\r\n");
      out.write("<script>\r\n");
      out.write("var content = ");
      out.print(p.getParceloutContent());
      out.write(";\r\n");
      out.write("content = content.replace(/(?:\\r\\n|\\r|\\n)/g, '<br />');\r\n");
      out.write("document.getElementById(\"content\").value = content;\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("function loginAlert(){\r\n");
      out.write("\talert(\"로그인 후 이용하세요.\");\t\r\n");
      out.write("// \t$(\"#memberId\").focus();\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("$(()=>{\r\n");
      out.write("\t//로그인하지 않고 댓글쓰기 방지\r\n");
      out.write("\t$(\"[name=boardCommentContent]\").click(()=>{\r\n");
      out.write("\t\tif(");
      out.print(memberLoggedIn==null);
      out.write("){\r\n");
      out.write("\t\t\tloginAlert();\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\r\n");
      out.write("\t\r\n");
      out.write("\t//boardCommentFrm 유효성 검사: jquery.submit이벤트핸들러 이용\r\n");
      out.write("\t$(\"[name=boardCommentFrm]\").submit((e)=>{\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t//댓글 유효성검사\r\n");
      out.write("\t\tvar len = $(\"#boardCommentContent\").val()\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t   .trim()\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t   .length;\r\n");
      out.write("\t\tif(len == 0){\r\n");
      out.write("\t\t\te.preventDefault();\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\r\n");
      out.write("\t\r\n");
      out.write("\t//답글(대댓글) 작성\r\n");
      out.write("\t$(\".btn-reply\").on(\"click\", (e)=>{\r\n");
      out.write("\t\t/* 로그인여부에 따라 분기 */\r\n");
      out.write("\t\t");
 if(memberLoggedIn != null){
      out.write("\r\n");
      out.write("\t\t\t//로그인한 경우\r\n");
      out.write("\t\t\tvar div = $(\"<div></div>\");\r\n");
      out.write("\t\t\tvar html = \"<form action='");
      out.print(request.getContextPath());
      out.write("/board/parceloutboard/boardCommentInsert' method='post'>\";\r\n");
      out.write("\t\t\thtml += \"<div class='input-group'>\";\r\n");
      out.write("\t\t\thtml += \"<input type='hidden' name='boardRef' value='");
      out.print(p.getParceloutNo());
      out.write("'/>\";\r\n");
      out.write("\t\t\thtml += \"<input type='hidden' name='boardCommentWriter' value='");
      out.print(memberLoggedIn.getMemberId());
      out.write("'/>\";\r\n");
      out.write("\t\t\thtml += \"<input type='hidden' name='boardCommentLevel' value='2'/>\";\r\n");
      out.write("\t\t\thtml += \"<input type='hidden' name='boardCommentRef' value='\"+e.target.value+\"'/>\";\r\n");
      out.write("\t\t\thtml += \"<textarea name='boardCommentContent' cols='60' rows='1'></textarea>\";\r\n");
      out.write("\t\t\thtml += \"<div class='input-group-append' style='background-color: #da7f84; border-radius: 0.2em;'>\";\r\n");
      out.write("\t\t\thtml += \"<button type='submit' class='btn btn-outline-secondary' style='color: white; border:0px solid transparent;'>등록</button>\";\r\n");
      out.write("\t\t\thtml += \"</div>\";\r\n");
      out.write("\t\t\thtml += \"</div>\";\r\n");
      out.write("\t\t\thtml += \"</form>\";\r\n");
      out.write("\t\t\tdiv.html(html);\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t//클릭한 버튼이 속한 tr 다음에 tr을 추가\r\n");
      out.write("\t\t\tdiv.insertAfter($(e.target).parent().parent())\r\n");
      out.write("\t\t\t  .children(\"form\")\r\n");
      out.write("\t\t\t  .slideDown(800)\r\n");
      out.write("\t\t\t  .children(\"form\")\r\n");
      out.write("\t\t\t  .submit((e)=>{\r\n");
      out.write("\t\t\t\t console.log($(e.target));\r\n");
      out.write("\t\t\t\t var len = $(e.target).children(\"textarea\")\r\n");
      out.write("\t\t\t\t \t\t\t\t\t  .val()\r\n");
      out.write("\t\t\t\t \t\t\t\t\t  .trim()\r\n");
      out.write("\t\t\t\t \t\t\t\t\t  .length;\r\n");
      out.write("\t\t\t\t if(len == 0)\r\n");
      out.write("\t\t\t\t\t e.preventDefault();\r\n");
      out.write("\t\t\t\t \r\n");
      out.write("\t\t\t  })\r\n");
      out.write("\t\t\t  .find(\"textarea\").focus();\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t//한번 댓글폼 생성후 이벤트핸들러 제거\r\n");
      out.write("\t\t\t$(e.target).off('click');\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t");
 } else { 
      out.write("\r\n");
      out.write("\t\t\t//로그인하지 않은 경우\r\n");
      out.write("\t\t\tloginAlert();\r\n");
      out.write("\t\t");
 } 
      out.write("\r\n");
      out.write("\t});\r\n");
      out.write("\t\r\n");
      out.write("\t //삭제버튼 클릭시\r\n");
      out.write("    $(\".btn-delete\").click(function(){\r\n");
      out.write("        if(!confirm(\"정말 삭제하시겠습니까?\")) return;\r\n");
      out.write("        //삭제처리후 돌아올 현재게시판번호도 함께 전송함.\r\n");
      out.write("        location.href=\"");
      out.print(request.getContextPath());
      out.write("/board/parceloutBoard/ParceloutCommentDelete?parceloutNo=");
      out.print(p.getParceloutNo() );
      out.write("&del=\"+$(this).val();\r\n");
      out.write("    });\r\n");
      out.write("\t\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("function goBoardList() {\r\n");
      out.write("\tlocation.href = \"");
      out.print(request.getContextPath());
      out.write("/board/parcelout/parceloutList\";\r\n");
      out.write("}\t\t\r\n");
      out.write("\r\n");
      out.write("function goParceloutViewReportOpen(){\r\n");
      out.write("\tvar url = \"");
      out.print(request.getContextPath());
      out.write("/board/parcelout/parceloutReport?parceloutNo=");
      out.print(p.getParceloutNo());
      out.write("\";\r\n");
      out.write("\tvar target = \"new\";\r\n");
      out.write("\tvar option = \"top=200, left=450, width=450, height=300\";\r\n");
      out.write("\t\r\n");
      out.write("\twindow.open(url,target,option);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("</script>\r\n");
      out.write("</head>\r\n");
      out.write("<body>\r\n");
      out.write("<section id=\"board-container\">\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<div id=\"img\">\r\n");
      out.write("\t<img id=\"review_header\" src=\"");
      out.print(request.getContextPath() );
      out.write("/images/1.jpg\" alt=\"헤더 - 후기게시판 사진\" />\r\n");
      out.write("<input type=\"button\" value=\"목록\" onclick=\"goBoardList();\"/>\r\n");
if(memberLoggedIn!=null){ 
      out.write("\r\n");
      out.write("<input type=\"button\" value=\"신고\" onclick=\"goParceloutViewReportOpen();\"/>\r\n");
} 
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
 if(memberLoggedIn!=null && 
 			(p.getParceloutWriter().equals(memberLoggedIn.getMemberId()) 
 			|| "admin".equals(memberLoggedIn.getMemberId())) ){ 
      out.write("\t \r\n");
      out.write(" \t\t\t\t<div style='height:50px; padding:5px;'>\r\n");
      out.write(" \t\t\t\r\n");
      out.write("\t\t\t\t<input type=\"button\" value=\"삭제\"   \r\n");
      out.write("\t\t\t\t\t\tclass=\"btn btn-gray\"\r\n");
      out.write("\t\t\t\t\t\tstyle='position: absolute; right: 0.5em;'\r\n");
      out.write("\t\t\t\t\t\tonclick=\"deleteBoard();\" />\r\n");
      out.write("\t\t\t\t<input type=\"button\"  value=\"수정\"  \r\n");
      out.write("\t\t\t\t\t\tclass=\"btn btn-pink\"\r\n");
      out.write("\t\t\t\t\t\tstyle='position: absolute; right: 7em;'\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\tonclick=\"updateBoard();\" />\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<form action=\"");
      out.print(request.getContextPath());
      out.write("/board/parceloutboard/parceloutDelete\"\r\n");
      out.write("\t\t      name=\"parceloutDeleteFrm\"\r\n");
      out.write("\t\t      method=\"post\">\r\n");
      out.write("\t\t\t<input type=\"hidden\" name=\"parceloutNo\"\r\n");
      out.write("\t\t\t\t   value=\"");
      out.print(p.getParceloutNo());
      out.write("\" />\r\n");
      out.write("\t\t\t<input type=\"hidden\" name=\"parceloutRenamedImg\" \r\n");
      out.write("\t\t\t\t   value=\"");
      out.print(p.getParceloutRenamedImg()!=null?
						   		p.getParceloutRenamedImg():"");
      out.write("\"/>      \r\n");
      out.write("\t\t</form>\r\n");
      out.write("\t\t<script>\r\n");
      out.write("\t\tfunction updateBoard(){\r\n");
      out.write("\t\t\tlocation.href = \"");
      out.print(request.getContextPath());
      out.write("/board/parcelout/parceloutUpdate?parceloutNo=");
      out.print(p.getParceloutNo());
      out.write("\";\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tfunction deleteBoard(){\r\n");
      out.write("\t\t\tif(!confirm(\"정말 삭제 하시겠습니까?\")){\r\n");
      out.write("\t\t\t\treturn;\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\t$(\"[name=parceloutDeleteFrm]\").submit();\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t</script>\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t");
} 
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<table class=\"tg\" style=\"table-layout: fixed;   width: 1024px;\">\r\n");
      out.write("\t\t<colgroup>\r\n");
      out.write("\t\t\t<col style=\"width: 35px\">\r\n");
      out.write("\t\t\t<col style=\"width: 100px\">\r\n");
      out.write("\t\t\t<col style=\"width: 35px\">\r\n");
      out.write("\t\t\t<col style=\"width: 100px\">\r\n");
      out.write("\t\t</colgroup>\r\n");
      out.write("\t\t<tr>\r\n");
      out.write("\t\t\t<th class=\"tg-th\">작성자</th>\r\n");
      out.write("\t\t\t<th class=\"tg\" colspan=\"3\">");
      out.print(p.getParceloutWriter() );
      out.write(" </th>\r\n");
      out.write("\t\t</tr>\r\n");
      out.write("\t\t<tr>\r\n");
      out.write("\t\t\t<td class=\"tg-th\">제목</td>\r\n");
      out.write("\t\t\t<td class=\"tg\" colspan=\"3\">");
      out.print(p.getParceloutTitle() );
      out.write("</td>\r\n");
      out.write("\t\t</tr>\r\n");
      out.write("\t\t<tr>\r\n");
      out.write("\t\t\t<td class=\"tg-th\">글번호</td>\r\n");
      out.write("\t\t\t<td class=\"tg-ml2k\">");
      out.print(p.getParceloutNo() );
      out.write("</td>\r\n");
      out.write("\t\t\t<td class=\"tg-th\">조회수</td>\r\n");
      out.write("\t\t\t<td class=\"tg-yc5w\">");
      out.print(p.getParceloutCount() );
      out.write(" </td>\r\n");
      out.write("\t\t</tr>\r\n");
      out.write("\t\t<tr>\r\n");
      out.write("\t\t\t<td class=\"tg-th\">신고수</td>\r\n");
      out.write("\t\t\t<td class=\"tg-yc5w\">");
      out.print(p.getParceloutReportCount() );
      out.write("</td>\r\n");
      out.write("\t\t\t<td class=\"tg-th\">게시일</td>\r\n");
      out.write("\t\t\t<td class=\"tg-yc5w\">");
      out.print(p.getParceloutEnrolldate() );
      out.write("</td>\r\n");
      out.write("\t\t</tr>\r\n");
      out.write("\t\t<tr>\r\n");
      out.write("\t\t\t<td class=\"tg-th\">성별</td>\r\n");
      out.write("\t\t\t<td class=\"tg-yc5w\">");
      out.print(str );
      out.write("</td>\r\n");
      out.write("\t\t\t<td class=\"tg-th\">동물종류</td>\r\n");
      out.write("\t\t\t");
 if(p.getParceloutKind() != null){
				String[] arr = p.getParceloutKind().split("_");
      out.write("\r\n");
      out.write("\t\t\t\t<td class=\"tg-yc5w\">");
      out.print(arr.length == 1?p.getParceloutKind():arr[1]);
      out.write("</td>\r\n");
      out.write("\t\t\t\t");
} 
      out.write("\r\n");
      out.write("\t\t</tr>\r\n");
      out.write("\t\t<tr>\r\n");
      out.write("\t\t\t<td class=\"tg-th\">분양지역</td>\r\n");
      out.write("\t\t\t<td class=\"tg-yc5w\">");
      out.print(p.getParceloutPlace());
      out.write("</td>\r\n");
      out.write("\t\t\t<td class=\"tg-th\">책임비</td>\r\n");
      out.write("\t\t\t<td class=\"tg-yc5w\">");
      out.print(p.getParceloutMoney());
      out.write("원</td>\r\n");
      out.write("\t\t</tr>\r\n");
      out.write("\t<tr>\r\n");
      out.write("\t\t\t<td class=\"tg-th\">사진</td>\r\n");
      out.write("\t\t\t<td class=\"tg-img\"  colspan=\"3\">\r\n");
      out.write("\t\t\t\t<!-- 첨부파일이 있는 경우만 보임 처리 -->\r\n");
      out.write("\t\t\t\t");
if(count > 0) {
      out.write("\r\n");
      out.write("\t\t\t\t<div class=\"slider slider-for\" style='width: 700px; height: 450px;'>\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\t");

						if (p.getParceloutRenamedImg() != null) {
							String[] renamedImgList = p.getParceloutRenamedImg().split("§");
							for (int i = 0; i < renamedImgList.length; i++) {
					
      out.write("\r\n");
      out.write("\t\t\t\t\t<img\r\n");
      out.write("\t\t\t\t\t\tsrc=\"");
      out.print(request.getContextPath());
      out.write("/upload/board/parcelout/");
      out.print(renamedImgList[i]);
      out.write("\"\r\n");
      out.write("\t\t\t\t\t\talt=\"첨부파일\" style='max-width: 700px; max-height: 450px;' />\r\n");
      out.write("\t\t\t\t\t");

						}
						}
					
      out.write("\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t");
} 
      out.write("\r\n");
      out.write("\t\t\t\t\t<br />\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\t");
 if ( count == 2 || count == 3) {
      out.write("\r\n");
      out.write("\t\t\t\t<div class=\"slider slider-nav\" align=\"center\" style='width: 700px; height: 150px;'>\r\n");
      out.write("\t\t\t\t\t\t");
 
						if (p.getParceloutRenamedImg()!= null) {
							String[] renamedImgList = p.getParceloutRenamedImg().split("§");
							for (int i = 0; i < renamedImgList.length; i++) {
					
      out.write("\r\n");
      out.write("\t\t\t\t\t<img\r\n");
      out.write("\t\t\t\t\t\t\tsrc=\"");
      out.print(request.getContextPath());
      out.write("/upload/board/parcelout/");
      out.print(renamedImgList[i]);
      out.write("\"\r\n");
      out.write("\t\t\t\t\t\t\talt=\"첨부파일\" style='height: 150px; width: 200px;' />\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\t\t");

						}
						}
					}
					
      out.write("\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t</td>\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t</tr>\r\n");
      out.write("\t\t<tr>\r\n");
      out.write("\t\t\t<td class=\"tg-th\">내용</td>\r\n");
      out.write("\t\t\t<td class=\"tg-kw6a\" colspan=\"3\">");
      out.print(p.getParceloutContent() );
      out.write("\r\n");
      out.write("\t\t\t</td>\r\n");
      out.write("\t\t</tr>\r\n");
      out.write("\r\n");
      out.write("\t</table>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\t\r\n");
      out.write("\t\r\n");
      out.write("\t<div style='padding: 10px'>\r\n");
      out.write("\t");
if(memberLoggedIn!=null){ 
      out.write("\r\n");
      out.write("\t<input type=\"button\" value=\"신고하기\" id=\"menu\"   class=\"btn btn-pink\" \r\n");
      out.write("\t\t\t\tonclick=\"goParceloutViewReportOpen();;\" />\r\n");
      out.write("\r\n");
      out.write("\t");
} 
      out.write("\r\n");
      out.write("<input type=\"button\" value=\"목록으로 \" id=\"menu\"   class=\"btn btn-gray\"\r\n");
      out.write("\t\t\t\tonclick=\"goBoardList();\"  /> \r\n");
      out.write("\t</div>\r\n");
      out.write("\t\r\n");
      out.write("<!-- 댓글 부분 -->\r\n");
      out.write("<hr style=\"margin-top: 30px;\"/>\r\n");
      out.write("<form action=\"");
      out.print(request.getContextPath());
      out.write("/board/parceloutboard/boardCommentInsert\"\r\n");
      out.write("\t\t\t\t  name=\"boardCommentFrm\" method=\"post\">\r\n");
      out.write("\t<div class=\"input-group mb-3\">\r\n");
      out.write("\t\t\t<input type=\"hidden\" name=\"boardRef\" value=\"");
      out.print(p.getParceloutNo());
      out.write("\" />\r\n");
      out.write("\t\t\t<input type=\"hidden\" name=\"boardCommentWriter\" value=\"");
      out.print(memberLoggedIn!=null?memberLoggedIn.getMemberId():"");
      out.write("\" />\r\n");
      out.write("\t\t\t<input type=\"hidden\" name=\"boardCommentLevel\" value=\"1\" />\r\n");
      out.write("\t\t\t<input type=\"hidden\" name=\"boardCommentRef\" value=\"0\" /> <!-- 댓글인 경우 참조댓글이 없으므로 0으로 초기화 -->\r\n");
      out.write("\t\t\t<textarea name=\"boardCommentContent\" class=\"form-control\" cols=\"60\" rows=\"1\"></textarea>\r\n");
      out.write("\t\t\t<div class=\"input-group-append\" style=\"background-color: #da7f84; border-radius: 0.2em;\" >\r\n");
      out.write("\t\t\t\t<button type=\"submit\" class=\"btn btn-outline-secondary\" style=\"color: white; border:0px solid transparent;\">등록</button>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t</div>\t\t\t\r\n");
      out.write("</form>\r\n");
      out.write("\r\n");
      out.write("\t\t<!-- 댓글목록테이블 -->\r\n");
      out.write("\t\t<table id=\"tbl-comment\" class=\"list-group\">\r\n");
      out.write("\t\t\t");

			if(commentList != null){
				for(BoardComment bc : commentList){
					if(bc.getBoardCommentLevel()==1){
			
      out.write("\r\n");
      out.write("\t\t\t\t\t<tr class=\"level1, list-group-item\">\r\n");
      out.write("\t\t\t\t\t\t<td>\r\n");
      out.write("\t\t\t\t\t\t\t<sub class=comment-writer>");
      out.print(bc.getBoardCommentWriter() );
      out.write("</sub>\r\n");
      out.write("\t\t\t\t\t\t\t<sub class=comment-date>");
      out.print(bc.getBoardCommentDate());
      out.write("</sub> <br /><br />\r\n");
      out.write("\t\t\t\t\t\t\t");
      out.print(bc.getBoardCommentContent() );
      out.write("\r\n");
      out.write("\t\t\t\t\t\t</td>\r\n");
      out.write("\t\t\t\t\t\t<td>\r\n");
      out.write("\t\t\t\t\t\t\t<button class=\"btn-reply btn btn-small btn-pink\" value=\"");
      out.print(bc.getBoardCommentNo());
      out.write("\">답글</button>\r\n");
      out.write("\t\t\t\t\t\t\t<!-- @실습문제:\r\n");
      out.write("\t\t\t\t\t\t\t\t 관리자/댓글작성자에 한해 이버튼을 노출시키고,\r\n");
      out.write("\t\t\t\t\t\t\t\t 댓글 삭제 기능추가. \r\n");
      out.write("\t\t\t\t\t\t\t\t 댓글삭제후에는 현재페이지로 다시 이동함. -->\r\n");
      out.write("\t\t\t\t\t\t\t \r\n");
      out.write("\t\t\t\t\t\t\t");
if(memberLoggedIn!=null 
								&& ("admin".equals(memberLoggedIn.getMemberId()) 
										|| bc.getBoardCommentWriter().equals(memberLoggedIn.getMemberId()) )){
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t<button class=\"btn-delete btn btn-small btn-gray\" value=\"");
      out.print(bc.getBoardCommentNo());
      out.write("\">삭제</button>\r\n");
      out.write("\t\t\t\t\t\t\t");
} 
      out.write("\r\n");
      out.write("\t\t\t\t\t\t</td>\r\n");
      out.write("\t\t\t\t\t</tr>\r\n");
      out.write("\t\t\t");
 		} else { 
      out.write("\r\n");
      out.write("\t\t\t\t\t<tr class=\"level2, list-group-item\">\r\n");
      out.write("\t\t\t\t\t\t<td style=\"padding-left: 20px\">\r\n");
      out.write("\t\t\t\t\t\t\t<sub class=comment-writer>ㄴ&nbsp;");
      out.print(bc.getBoardCommentWriter() );
      out.write("</sub>\r\n");
      out.write("\t\t\t\t\t\t\t<sub class=comment-date>");
      out.print(bc.getBoardCommentDate());
      out.write("</sub><br /><br />\r\n");
      out.write("\t\t\t\t\t\t\t");
      out.print(bc.getBoardCommentContent() );
      out.write("\r\n");
      out.write("\t\t\t\t\t\t</td>\r\n");
      out.write("\t\t\t\t\t\t<td>\r\n");
      out.write("\t\t\t\t\t\t\t<!-- 삭제버튼 추가 -->\r\n");
      out.write("\t\t\t\t\t\t\t");
if(memberLoggedIn!=null 
								&& ("admin".equals(memberLoggedIn.getMemberId()) 
								|| bc.getBoardCommentWriter().equals(memberLoggedIn.getMemberId()) )){
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t<button class=\"btn-delete btn btn-small btn-gray\" value=\"");
      out.print(bc.getBoardCommentNo());
      out.write("\">삭제</button>\r\n");
      out.write("\t\t\t\t\t\t\t");
} 
      out.write("\r\n");
      out.write("\t\t\t\t\t\t</td>\r\n");
      out.write("\t\t\t\t\t</tr>\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t\t");

					}//end of if : level1, level2
		
				}//end of for	
			} 
			
      out.write("\r\n");
      out.write("\t\t</table>\r\n");
      out.write("\t</div>\t\r\n");
      out.write("\r\n");
      out.write("<footer>\r\n");
      out.write("\t​\r\n");
      out.write("\t<article>\r\n");
      out.write("\t\t<div class=\"footerInfo\">\r\n");
      out.write("\t\t\t<h1>\r\n");
      out.write("\t\t\t\t<img src=\"");
      out.print(request.getContextPath());
      out.write("/images/common/footer/foot_logo.png\" alt=\"로고\">\r\n");
      out.write("\t\t\t</h1>\r\n");
      out.write("\t\t\t<div class=\"footer_txt\">\r\n");
      out.write("\t\t\t\t<ul>\r\n");
      out.write("\t\t\t\t\t<li>Team PINKPAW</li>\r\n");
      out.write("\t\t\t\t</ul>\r\n");
      out.write("\t\t\t\t<ul>\r\n");
      out.write("\t\t\t\t\t<li>         \r\n");
      out.write("         \t\t\t\t ⓒ핑크포우제공/데이터 출처 <img src=\"");
      out.print(request.getContextPath());
      out.write("/images/common/footer/maf.png\" /> 농림축산식품부 <br />\r\n");
      out.write("\t\t\t\t\t\t</li>\r\n");
      out.write("\t\t\t\t</ul>\r\n");
      out.write("\t\t\t\t<ul>\r\n");
      out.write("\t\t\t\t\t<li>\r\n");
      out.write("\t\t\t\t\t\t핑크포우는 사람과 동물 모두가 행복한 세상을 만들어갑니다.\r\n");
      out.write("\t\t\t\t\t</li> \r\n");
      out.write("\t\t\t\t</ul>\r\n");
      out.write("\t\t\t\t\t<li>\r\n");
      out.write("\t\t\t\t\t\t핑크포우는 정부나 보호소와는 관련이 없습니다.\r\n");
      out.write("\t\t\t\t\t</li>\r\n");
      out.write("\t\t\t\t</ul>\r\n");
      out.write("\t\t\t\t<p>\r\n");
      out.write("\t\t\t\t\t<br>ⓒCOPY RIGHT©2019 PinkPawTeam. ALL RIGHTS RESERVED.\r\n");
      out.write("\t\t\t\t</p>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t</article>\r\n");
      out.write("\r\n");
      out.write("</footer>\r\n");
      out.write("<script>\r\n");
      out.write("\t$(function(){\r\n");
      out.write("\t\tvar dWidth=$(window).width();\r\n");
      out.write("\t\tvar dHeight=$(window).height();\r\n");
      out.write("\t\t/* $('section').css({height:dHeight+'px'}); */\r\n");
      out.write("\r\n");
      out.write("\t\t//선택되어져 있는 네비게이션 표시\r\n");
      out.write("\t\t$(window).scroll(function(e){\r\n");
      out.write("\t\tvar ht=300;\r\n");
      out.write("\t\tvar dScroll=$(window).scrollTop();\r\n");
      out.write("\t\tif(dScroll>=0 && dScroll<ht){\r\n");
      out.write("\t\t\t$('nav>ul>li').removeClass('on');\r\n");
      out.write("\t\t\t$('nav>ul>li:nth-child(1)').addClass('on');\r\n");
      out.write("\t\t\t$('.headerWrap').css({'background':'none', 'border-bottom':'none'});\r\n");
      out.write("\t\t\t$('header>h1>a>img').attr('src','");
      out.print(request.getContextPath());
      out.write("/images/main/logo_white.png');\r\n");
      out.write("\t\t\t$('header>div>a>img').attr('src','");
      out.print(request.getContextPath());
      out.write("/images/main/icon_meun.png');\r\n");
      out.write("\t\t\t$('header>div>ul>li>a').css('color','#fff');\r\n");
      out.write("\t\t\t$('.headerWrap').mouseover(function(e){$(this).css('background','rgba(34,34,34,0.7)');});\r\n");
      out.write("\t\t\t$('.headerWrap').mouseout(function(e){$(this).css('background','none');});\r\n");
      out.write("\t\t\t$('header .asideNav').css('background','url(\"images/main/bg_gnbLine.png\") no-repeat left center');\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\tif(dScroll>=ht && dScroll<ht*2){\r\n");
      out.write("\t\t\t$('nav>ul>li').removeClass('on');\r\n");
      out.write("\t\t\t$('nav>ul>li:nth-child(2)').addClass('on');\r\n");
      out.write("\t\t\tif(dWidth <= 450){\r\n");
      out.write("\t\t\t\t$('.headerWrap').css({'background':'#fff', 'height':'7%'});\r\n");
      out.write("\t\t\t} else {\r\n");
      out.write("\t\t\t\t$('.headerWrap').css({'background':'#fff', 'height':'84px', 'border-bottom':'1px solid #eee', 'box-sizing':'border-box'});\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\t$('header>h1>a>img').attr('src','");
      out.print(request.getContextPath());
      out.write("/images/main/logo_color.png');\r\n");
      out.write("\t\t\t$('header>div>a>img').attr('src','");
      out.print(request.getContextPath());
      out.write("/images/main/icon_meun_black.png');\r\n");
      out.write("\t\t\t$('header>div>ul>li>a').css('color','#222');\r\n");
      out.write("\t\t\t$('.headerWrap').mouseover(function(e){$(this).css('background','#fff');});\r\n");
      out.write("\t\t\t$('.headerWrap').mouseout(function(e){$(this).css('background','#fff');});\r\n");
      out.write("\t\t\t$('header .asideNav').css('background','url(\"images/main/bg_gnbLine_100.png\") no-repeat left center');\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\tif(dScroll>=ht*2 && dScroll<ht*3){\r\n");
      out.write("\t\t\t$('nav>ul>li').removeClass('on');\r\n");
      out.write("\t\t\t$('nav>ul>li:nth-child(3)').addClass('on');\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\tif(dScroll>=ht*3 && dScroll<ht*4){\r\n");
      out.write("\t\t\t$('nav>ul>li').removeClass('on');\r\n");
      out.write("\t\t\t$('nav>ul>li:nth-child(4)').addClass('on');\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\r\n");
      out.write("\r\n");
      out.write("\t\t//메뉴버튼 클릭시 페이지 이동 이벤트\r\n");
      out.write("\t\t$('nav>ul>li>a').click(function(e){\r\n");
      out.write("\t\t\tvar secPos=$(this).attr('href'); //해당아이디\r\n");
      out.write("\t\t\tvar sec=$(secPos).position().top;  //top의 수치를 가져오기 위함\r\n");
      out.write("\t\t\t$('body,html').stop().animate({scrollTop:sec},1200,'swing');\r\n");
      out.write("\t\t\treturn false;\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\r\n");
      out.write("\t\t//마우스 휠 이벤트\r\n");
      out.write("\t\t/* $('section').on('mousewheel',function(event,delta){\r\n");
      out.write("\t\t\tif(delta>0 && $('#sec02','#sec03','#sec04')){\r\n");
      out.write("\t\t\t\tvar prev=$(this).prev().offset().top;\r\n");
      out.write("\t\t\t\t$('body,html').stop().animate({scrollTop:prev},1200,'swing');\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\tif(delta<0 && $('#sec01','#sec02','#sec03')){\r\n");
      out.write("\t\t\t\tvar next=$(this).next().offset().top;\r\n");
      out.write("\t\t\t\t$('body,html').stop().animate({scrollTop:next},1200,'swing');\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\tif(dWidth <= 767 && $(window).scrollTop() > 0){\r\n");
      out.write("\t\t\t\t$('.headerWrap').css('background','#fff!important');\r\n");
      out.write("\t\t\t} */\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t//header width값 고정\r\n");
      out.write("\t\tif(dWidth < 1024){\r\n");
      out.write("\t\t\t$('header').css('width','1024px');\r\n");
      out.write("\t\t}\t\t\r\n");
      out.write("\r\n");
      out.write("\t\t//반응형(모바일)\r\n");
      out.write("\t\tif(dWidth <= 767){\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t/*header*/\r\n");
      out.write("\t\t\t$('.headerWrap').css({'position':'fixed', 'height':'7%!important'});\r\n");
      out.write("\t\t\t$('.headerWrap>header').css('width','100%');\r\n");
      out.write("\t\t\t/*$('header').css({'padding-top':dWidth/100*5, 'margin-left':'0', 'left':'5%', 'height':'auto'});*/\r\n");
      out.write("\t\t\t$('header').css({'padding':'5%', 'margin-left':'0', 'left':'auto', 'height':'auto'});\r\n");
      out.write("\t\t\t$('header>div>ul').hide();\r\n");
      out.write("\t\t\t$('header>h1').css({'margin-top':'0', 'width':'19%'});\r\n");
      out.write("\t\t\t$('header>div').css('width','5.85%');\r\n");
      out.write("\t\t\t$('header>div>a').css({'margin-top':'0', 'margin-left':'0'});\r\n");
      out.write("\t\t\t$('header>div>a').attr('onClick','$(\".menuWrap_m\").fadeIn(300);');\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t/*menu*/\r\n");
      out.write("\t\t\t$('.menuWrap_m>.menu>a').click($(function(){$('#div').hide()})); \r\n");
      out.write("\t\t\t$('.menuWrap_m .menu').css('height',dHeight);\r\n");
      out.write("\t\t\t$('.menuWrap_m .menu>div').css({'padding-top':dWidth/100*5, 'margin-left':'0', 'left':'5%', 'height':'12%', 'box-sizing':'border-box'});\r\n");
      out.write("\t\t\t//$('.menuWrap_m .menu>div').css('padding-bottom',dWidth/100*5);\r\n");
      out.write("\t\t\t$('.menuWrap_m dl>dt').css('padding-top',dWidth/100*5);\r\n");
      out.write("\t\t\t$('.menuWrap_m dl>dt').css('padding-bottom',dWidth/100*5);\r\n");
      out.write("\t\t\t$('.menuWrap_m dl>dd>p').css('padding-top',dWidth/100*5*0.772);\r\n");
      out.write("\t\t\t$('.menuWrap_m dl>dd>p').css('padding-bottom',dWidth/100*5*0.772);\r\n");
      out.write("\r\n");
      out.write("\t\t\r\n");
      out.write("\t}\r\n");
      out.write("});\r\n");
      out.write("</script>\r\n");
      out.write("</body>\r\n");
      out.write("</html>");
      out.write("\r\n");
      out.write("</section>\r\n");
      out.write("\r\n");
      out.write("<script>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("//3개일때\r\n");
      out.write("$('.slider-for').slick({\r\n");
      out.write("\t  slidesToShow: 1,\r\n");
      out.write("\t  slidesToScroll: 1,\r\n");
      out.write("\t  arrows: false,\r\n");
      out.write("\t  fade: true,\r\n");
      out.write("\t  asNavFor: '.slider-nav'\r\n");
      out.write("\t});\r\n");
      out.write("$('.slider-nav').slick({\r\n");
      out.write("\t  slidesToShow: 3,\r\n");
      out.write("\t  slidesToScroll: 1,\r\n");
      out.write("\t  asNavFor: '.slider-for',\r\n");
      out.write("\t  arrows: true,\r\n");
      out.write("\t  dots: false,\r\n");
      out.write("\t  centerMode: true,\r\n");
      out.write("\t  focusOnSelect: true\r\n");
      out.write("\t});\r\n");
      out.write("\r\n");
      out.write("//두개일때\r\n");
      out.write("\t/*  $('.slider-for').slick({\r\n");
      out.write("\t\t  slidesToShow: 1,\r\n");
      out.write("\t\t  slidesToScroll: 1,\r\n");
      out.write("\t\t  arrows: false,\r\n");
      out.write("\t\t  fade: true,\r\n");
      out.write("\t\t  asNavFor: '.slider-nav'\r\n");
      out.write("\t\t});\r\n");
      out.write("\t\t$('.slider-nav').slick({\r\n");
      out.write("\t\t  slidesToShow: 1,\r\n");
      out.write("\t\t  slidesToScroll: 1,\r\n");
      out.write("\t\t  asNavFor: '.slider-for',\r\n");
      out.write("\t\t  dots: true,\r\n");
      out.write("\t\t  centerMode: true,\r\n");
      out.write("\t\t  focusOnSelect: true\r\n");
      out.write("\t\t}); */\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("</script>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
